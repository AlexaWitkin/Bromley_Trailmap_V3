<!--
trails.html
TrailMapInterface V3.0
Alexa Witkin
-->
{% extends 'base.html' %}

{% block content %}
<div class="container">
    <p class="lead">Trails</p>

    <form action="{{ url_for('trails') }}" method="POST">
        {% set status_icons = {
        'open': 'open.png',
        'delayed': 'delayed.png',
        'closed': 'closed.png'
        } %}

        {% for trail in t_stat.keys() %}
        <div class="mb-4">
            <!-- Trail name as title -->
            <h4>{{ trail.replace('_', ' ').title() }}</h4>

            <!-- Status update buttons -->
            <div class="btn-group mb-2" role="group" aria-label="Trail status buttons">
                <button type="submit" class="btn btn-danger" value="closed" name="{{ trail }}">Closed</button>
                <button type="submit" class="btn btn-warning" value="delayed" name="{{ trail }}">Delayed</button>
                <button type="submit" class="btn btn-success" value="open" name="{{ trail }}">Open</button>
            </div>

            <!-- Trail status icon -->
            <div>
                {% set status = t_stat[trail] %}
                {% if status in status_icons %}
                <img src="{{ url_for('static', filename=status_icons[status]) }}"
                     alt="{{ status.title() }}" width="30" height="30">
                {% else %}
                <span class="text-muted">No status</span>
                {# Optionally show an 'unknown.png' here #}
                {# <img src="{{ url_for('static', filename='unknown.png') }}" alt="Unknown" width="30" height="30"> #}
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </form>
</div>
{% endblock %}
